Estrutura da tabela daytrade
CREATE TABLE daytrade (
    id INT AUTO_INCREMENT PRIMARY KEY,
    data DATE NOT NULL,                      -- Data da opera√ß√£o
    ticker VARCHAR(20) NOT NULL,             -- Ex: PETR4, VALE3
    quantidade INT NOT NULL,
    valor_compra DECIMAL(10,2),              -- Pre√ßo unit√°rio de compra
    valor_venda DECIMAL(10,2),               -- Pre√ßo unit√°rio de venda
    preco_medio DECIMAL(10,2),               -- Pre√ßo m√©dio
    valor_mercado DECIMAL(10,2),             -- Valor da a√ß√£o no dia (via API)
    taxa_liquidacao DECIMAL(10,2) DEFAULT 0,
    taxa_emolumentos DECIMAL(10,2) DEFAULT 0,
    taxa_transferencia DECIMAL(10,2) DEFAULT 0,
    total DECIMAL(10,2),
    resultado DECIMAL(10,2),
    darf DECIMAL(10,2)
);

Ó∑ôÓ∑ö
Como funciona
- data ‚Üí registra o dia da opera√ß√£o.
- ticker ‚Üí identifica o ativo.
- quantidade ‚Üí n√∫mero de a√ß√µes negociadas.
- valor_compra / valor_venda ‚Üí pre√ßos unit√°rios.
- preco_medio ‚Üí calculado conforme suas compras/vendas acumuladas.
- taxas ‚Üí voc√™ insere manualmente (liquida√ß√£o, emolumentos, transfer√™ncia).
- total ‚Üí pode ser calculado como quantidade √ó valor_venda ou quantidade √ó valor_compra.
- resultado ‚Üí diferen√ßa entre venda e compra, descontando taxas.
- darf ‚Üí 15% sobre o lucro l√≠quido, se houver.
Exemplo pr√°tico
INSERT INTO daytrade (data, ticker, quantidade, valor_compra, valor_venda, preco_medio,
                      taxa_liquidacao, taxa_emolumentos, taxa_transferencia, total, resultado, darf)
VALUES ('2026-02-23', 'PETR4', 100, 28.00, 29.50, 28.75,
        2.00, 1.50, 0.50, 2950.00, 138.00, 20.70);

Ó∑ôÓ∑ö
Observa√ß√µes
- O pre√ßo m√©dio pode ser calculado via consulta SQL ou preenchido manualmente conforme sua estrat√©gia.
- O resultado e a DARF podem ser calculados automaticamente em relat√≥rios, mas tamb√©m podem ser armazenados na tabela para facilitar.
- Essa estrutura j√° contempla os tr√™s tipos de taxas da corretora que voc√™ mencionou.
üëâ Quer que eu prepare uma consulta SQL consolidada que, a partir dessa tabela, calcule automaticamente o lucro l√≠quido e o valor da DARF por opera√ß√£o, sem precisar inserir manualmente esses campos?
